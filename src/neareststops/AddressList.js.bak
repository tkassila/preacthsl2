import React, { Component } from 'react';
import Address from './Address.js'
import {h } from 'preact';
import Config from '../util/Config';

class ListAddresses extends Component 
{
    constructor(props) {
        super(props);
        console.log("ListAddresses constructor(props)");
        this.state = {
            chkbox: false,
            addresses: ['1','2'],
	    distance: null
        }
    }

    handleChangeChk = () => {
        this.setState({
            chkbox: !this.state.chkbox
        });
        console.log(this.state);
     //   React.render(this, document.getElementById('div.ListAddresses'));
      }

    render() {
        const hidden = !this.state.chkbox;
        const children = this.state.addresses;

        if (!hidden)
        {
            return (
                <div id="div.ListAddresses">
                    <h3>AddressList</h3>
                    <input type="checkbox" name="checkbox_id" defaultChecked={this.state.chkbox} 
                    onChange={this.handleChangeChk} />
                    <label htmlFor="checkbox_id">N채yt채 osoitelista</label>
                    <div className={!this.state.chkbox ? 'hidden' : ''}>
                    {React.Children.map(children, (child, i) => {
                        return <Address addresssselected={this.props.addresssselected} address={child} distance={this.props.distance} />
                    })
                    }
                    </div>           
               </div>
            );    
        }
        else
            return (
                <div id="div.ListAddresses">
                <h3>Osoitelista</h3>
                <input type="checkbox" name="checkbox_id" defaultChecked={this.state.chkbox} 
                onChange={this.handleChangeChk} />
                <label htmlFor="checkbox_id">N채yt채 osoitelista</label>            
           </div>
            );
    }
}

export default ListAddresses;
